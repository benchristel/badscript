module.exports=function(){"use strict";function e(e,i){function t(){this.constructor=e}t.prototype=i.prototype;e.prototype=new t}function i(e,t,n,r){this.message=e;this.expected=t;this.found=n;this.location=r;this.name="SyntaxError";if(typeof Error.captureStackTrace==="function"){Error.captureStackTrace(this,i)}}e(i,Error);function t(e){var t=arguments.length>1?arguments[1]:{},n=this,r={},f={Root:Le},l=Le,s=function(e){return e},u=function(e,i){if(i===null){return e}var t,n;if(i[1].negated){t=i[1].alternative;n=e}else{t=e;n=i[1].alternative}return{type:"Expression",value:t,condition:i[1].condition,alternative:n}},o=">>",a={type:"literal",value:">>",description:'">>"'},c=function(e,i){if(i.length==0){return e}return{type:"ConditionedExpression",pipeableExpressions:[e].concat(i.map(function(e){return e[3]}))}},p=function(e,i){if(i.length==0){return e}return{type:"PipeableExpression",invocable:e,invocations:i.map(Fi(1))}},h="(",d={type:"literal",value:"(",description:'"("'},v=",",y={type:"literal",value:",",description:'","'},A=")",g={type:"literal",value:")",description:'")"'},C=function(e,i){var t=e==null?[]:[e];return{type:"Invocation",arguments:t.concat(i.map(function(e){return e[2]}))}},b={type:"other",description:"identifier"},m=/^[A-Za-z_]/,w={type:"class",value:"[A-Za-z_]",description:"[A-Za-z_]"},x=/^[A-Za-z0-9_]/,E={type:"class",value:"[A-Za-z0-9_]",description:"[A-Za-z0-9_]"},F=function(e){return{type:"Identifier",name:xi(e).join("")}},R=/^[0-9]/,S={type:"class",value:"[0-9]",description:"[0-9]"},j=/^[1-9]/,z={type:"class",value:"[1-9]",description:"[1-9]"},Z=function(e){return{type:"Number",value:xi(e).join("")}},_=function(e){return e},q="if",k={type:"literal",value:"if",description:'"if"'},D="else",I={type:"literal",value:"else",description:'"else"'},P=function(e,i){return{condition:e,alternative:i,negated:false}},T="but",B={type:"literal",value:"but",description:'"but"'},N="then",O={type:"literal",value:"then",description:'"then"'},U=function(e,i){return{condition:e,alternative:i,negated:true}},V=function(e,i){return{type:"CaseExpression",cases:e,elseValue:i}},G=function(e,i){return[e].concat(i.map(function(e){return e[1]}))},H="when",J={type:"literal",value:"when",description:'"when"'},K=function(e,i){return{condition:e,value:i}},L=function(e){return e},M='"',Q={type:"literal",value:'"',description:'"\\""'},W=function(e){return{type:"String",parts:e,quote:'"'}},X="'",Y={type:"literal",value:"'",description:'"\'"'},$=function(e){return{type:"String",parts:e,quote:"'"}},ee={type:"other",description:"string data"},ie=function(e){return{type:"StringData",value:e.join(""),quote:'"'}},te=function(e){return{type:"StringData",value:e.join(""),quote:"'"}},ne={type:"other",description:"a string character"},re="\\",fe={type:"literal",value:"\\",description:'"\\\\"'},le={type:"any",description:"any character"},se=function(e){return e},ue="\\n",oe={type:"literal",value:"\\n",description:'"\\\\n"'},ae='\\"',ce={type:"literal",value:'\\"',description:'"\\\\\\""'},pe="\\'",he={type:"literal",value:"\\'",description:'"\\\\\'"'},de="\\(",ve={type:"literal",value:"\\(",description:'"\\\\("'},ye=function(e){return e},Ae="{",ge={type:"literal",value:"{",description:'"{"'},Ce="}",be={type:"literal",value:"}",description:'"}"'},me=function(e,i){var t=e?e:[];return{type:"Function",parameters:t,body:i}},we=function(e,i){return{type:"Function",parameters:e,body:i}},xe=function(e){return e},Ee=function(e,i){return[e].concat(i.map(function(e){return e[2]}))},Fe=":",Re={type:"literal",value:":",description:'":"'},Se=function(e,i){return{type:"Parameter",name:e.name,value:i?i[3]:null}},je=function(e){return e},ze={type:"other",description:"whitespace"},Ze=/^[ \t\n\r]/,_e={type:"class",value:"[ \\t\\n\\r]",description:"[ \\t\\n\\r]"},qe=0,ke=0,De=[{line:1,column:1,seenCR:false}],Ie=0,Pe=[],Te=0,Be;if("startRule"in t){if(!(t.startRule in f)){throw new Error("Can't start parsing from rule \""+t.startRule+'".')}l=f[t.startRule]}function Ne(){return e.substring(ke,qe)}function Oe(){return He(ke,qe)}function Ue(i){throw Ke(null,[{type:"other",description:i}],e.substring(ke,qe),He(ke,qe))}function Ve(i){throw Ke(i,null,e.substring(ke,qe),He(ke,qe))}function Ge(i){var t=De[i],n,r;if(t){return t}else{n=i-1;while(!De[n]){n--}t=De[n];t={line:t.line,column:t.column,seenCR:t.seenCR};while(n<i){r=e.charAt(n);if(r==="\n"){if(!t.seenCR){t.line++}t.column=1;t.seenCR=false}else if(r==="\r"||r==="\u2028"||r==="\u2029"){t.line++;t.column=1;t.seenCR=true}else{t.column++;t.seenCR=false}n++}De[i]=t;return t}}function He(e,i){var t=Ge(e),n=Ge(i);return{start:{offset:e,line:t.line,column:t.column},end:{offset:i,line:n.line,column:n.column}}}function Je(e){if(qe<Ie){return}if(qe>Ie){Ie=qe;Pe=[]}Pe.push(e)}function Ke(e,t,n,r){function f(e){var i=1;e.sort(function(e,i){if(e.description<i.description){return-1}else if(e.description>i.description){return 1}else{return 0}});while(i<e.length){if(e[i-1]===e[i]){e.splice(i,1)}else{i++}}}function l(e,i){function t(e){function i(e){return e.charCodeAt(0).toString(16).toUpperCase()}return e.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\x08/g,"\\b").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\f/g,"\\f").replace(/\r/g,"\\r").replace(/[\x00-\x07\x0B\x0E\x0F]/g,function(e){return"\\x0"+i(e)}).replace(/[\x10-\x1F\x80-\xFF]/g,function(e){return"\\x"+i(e)}).replace(/[\u0100-\u0FFF]/g,function(e){return"\\u0"+i(e)}).replace(/[\u1000-\uFFFF]/g,function(e){return"\\u"+i(e)})}var n=new Array(e.length),r,f,l;for(l=0;l<e.length;l++){n[l]=e[l].description}r=e.length>1?n.slice(0,-1).join(", ")+" or "+n[e.length-1]:n[0];f=i?'"'+t(i)+'"':"end of input";return"Expected "+r+" but "+f+" found."}if(t!==null){f(t)}return new i(e!==null?e:l(t,n),t,n,r)}function Le(){var e,i,t,n;e=qe;i=mi();if(i!==r){t=Me();if(t!==r){n=mi();if(n!==r){ke=e;i=s(t);e=i}else{qe=e;e=r}}else{qe=e;e=r}}else{qe=e;e=r}return e}function Me(){var e,i,t,n,f;e=qe;i=Qe();if(i!==r){t=qe;n=wi();if(n!==r){f=ii();if(f!==r){n=[n,f];t=n}else{qe=t;t=r}}else{qe=t;t=r}if(t===r){t=null}if(t!==r){ke=e;i=u(i,t);e=i}else{qe=e;e=r}}else{qe=e;e=r}return e}function Qe(){var i,t,n,f,l,s,u,p;i=ri();if(i===r){i=qe;t=We();if(t!==r){n=[];f=qe;l=mi();if(l!==r){if(e.substr(qe,2)===o){s=o;qe+=2}else{s=r;if(Te===0){Je(a)}}if(s!==r){u=mi();if(u!==r){p=We();if(p!==r){l=[l,s,u,p];f=l}else{qe=f;f=r}}else{qe=f;f=r}}else{qe=f;f=r}}else{qe=f;f=r}while(f!==r){n.push(f);f=qe;l=mi();if(l!==r){if(e.substr(qe,2)===o){s=o;qe+=2}else{s=r;if(Te===0){Je(a)}}if(s!==r){u=mi();if(u!==r){p=We();if(p!==r){l=[l,s,u,p];f=l}else{qe=f;f=r}}else{qe=f;f=r}}else{qe=f;f=r}}else{qe=f;f=r}}if(n!==r){ke=i;t=c(t,n);i=t}else{qe=i;i=r}}else{qe=i;i=r}if(i===r){i=ui();if(i===r){i=ei()}}}return i}function We(){var e,i,t,n,f,l;e=qe;i=Xe();if(i!==r){t=[];n=qe;f=mi();if(f!==r){l=Ye();if(l!==r){f=[f,l];n=f}else{qe=n;n=r}}else{qe=n;n=r}while(n!==r){t.push(n);n=qe;f=mi();if(f!==r){l=Ye();if(l!==r){f=[f,l];n=f}else{qe=n;n=r}}else{qe=n;n=r}}if(t!==r){ke=e;i=p(i,t);e=i}else{qe=e;e=r}}else{qe=e;e=r}return e}function Xe(){var e;e=$e();if(e===r){e=vi()}return e}function Ye(){var i,t,n,f,l,s,u,o;i=qe;if(e.charCodeAt(qe)===40){t=h;qe++}else{t=r;if(Te===0){Je(d)}}if(t!==r){n=Me();if(n===r){n=null}if(n!==r){f=[];l=qe;if(e.charCodeAt(qe)===44){s=v;qe++}else{s=r;if(Te===0){Je(y)}}if(s!==r){u=mi();if(u!==r){o=Me();if(o!==r){s=[s,u,o];l=s}else{qe=l;l=r}}else{qe=l;l=r}}else{qe=l;l=r}while(l!==r){f.push(l);l=qe;if(e.charCodeAt(qe)===44){s=v;qe++}else{s=r;if(Te===0){Je(y)}}if(s!==r){u=mi();if(u!==r){o=Me();if(o!==r){s=[s,u,o];l=s}else{qe=l;l=r}}else{qe=l;l=r}}else{qe=l;l=r}}if(f!==r){if(e.charCodeAt(qe)===41){l=A;qe++}else{l=r;if(Te===0){Je(g)}}if(l!==r){ke=i;t=C(n,f);i=t}else{qe=i;i=r}}else{qe=i;i=r}}else{qe=i;i=r}}else{qe=i;i=r}return i}function $e(){var i,t,n,f,l;Te++;i=qe;t=qe;if(m.test(e.charAt(qe))){n=e.charAt(qe);qe++}else{n=r;if(Te===0){Je(w)}}if(n!==r){f=[];if(x.test(e.charAt(qe))){l=e.charAt(qe);qe++}else{l=r;if(Te===0){Je(E)}}while(l!==r){f.push(l);if(x.test(e.charAt(qe))){l=e.charAt(qe);qe++}else{l=r;if(Te===0){Je(E)}}}if(f!==r){n=[n,f];t=n}else{qe=t;t=r}}else{qe=t;t=r}if(t!==r){ke=i;t=F(t)}i=t;Te--;if(i===r){t=r;if(Te===0){Je(b)}}return i}function ei(){var i,t,n,f;i=qe;if(R.test(e.charAt(qe))){t=e.charAt(qe);qe++}else{t=r;if(Te===0){Je(S)}}if(t===r){t=qe;if(j.test(e.charAt(qe))){n=e.charAt(qe);qe++}else{n=r;if(Te===0){Je(z)}}if(n!==r){f=ei();if(f!==r){n=[n,f];t=n}else{qe=t;t=r}}else{qe=t;t=r}}if(t!==r){ke=i;t=Z(t)}i=t;return i}function ii(){var e,i;e=qe;i=ti();if(i!==r){ke=e;i=_(i)}e=i;if(e===r){e=qe;i=ni();if(i!==r){ke=e;i=_(i)}e=i}return e}function ti(){var i,t,n,f,l,s,u,o;i=qe;if(e.substr(qe,2)===q){t=q;qe+=2}else{t=r;if(Te===0){Je(k)}}if(t!==r){n=wi();if(n!==r){f=Me();if(f!==r){l=wi();if(l!==r){if(e.substr(qe,4)===D){s=D;qe+=4}else{s=r;if(Te===0){Je(I)}}if(s!==r){u=wi();if(u!==r){o=Me();if(o!==r){ke=i;t=P(f,o);i=t}else{qe=i;i=r}}else{qe=i;i=r}}else{qe=i;i=r}}else{qe=i;i=r}}else{qe=i;i=r}}else{qe=i;i=r}}else{qe=i;i=r}return i}function ni(){var i,t,n,f,l,s,u,o,a,c;i=qe;if(e.substr(qe,3)===T){t=T;qe+=3}else{t=r;if(Te===0){Je(B)}}if(t!==r){n=wi();if(n!==r){if(e.substr(qe,2)===q){f=q;qe+=2}else{f=r;if(Te===0){Je(k)}}if(f!==r){l=wi();if(l!==r){s=Me();if(s!==r){u=wi();if(u!==r){if(e.substr(qe,4)===N){o=N;qe+=4}else{o=r;if(Te===0){Je(O)}}if(o!==r){a=wi();if(a!==r){c=Me();if(c!==r){ke=i;t=U(s,c);i=t}else{qe=i;i=r}}else{qe=i;i=r}}else{qe=i;i=r}}else{qe=i;i=r}}else{qe=i;i=r}}else{qe=i;i=r}}else{qe=i;i=r}}else{qe=i;i=r}}else{qe=i;i=r}return i}function ri(){var e,i,t,n;e=qe;i=fi();if(i!==r){t=wi();if(t!==r){n=si();if(n!==r){ke=e;i=V(i,n);e=i}else{qe=e;e=r}}else{qe=e;e=r}}else{qe=e;e=r}return e}function fi(){var e,i,t,n,f,l;e=qe;i=li();if(i!==r){t=[];n=qe;f=wi();if(f!==r){l=li();if(l!==r){f=[f,l];n=f}else{qe=n;n=r}}else{qe=n;n=r}while(n!==r){t.push(n);n=qe;f=wi();if(f!==r){l=li();if(l!==r){f=[f,l];n=f}else{qe=n;n=r}}else{qe=n;n=r}}if(t!==r){ke=e;i=G(i,t);e=i}else{qe=e;e=r}}else{qe=e;e=r}return e}function li(){var i,t,n,f,l,s,u,o;i=qe;if(e.substr(qe,4)===H){t=H;qe+=4}else{t=r;if(Te===0){Je(J)}}if(t!==r){n=wi();if(n!==r){f=Me();if(f!==r){l=wi();if(l!==r){if(e.substr(qe,4)===N){s=N;qe+=4}else{s=r;if(Te===0){Je(O)}}if(s!==r){u=wi();if(u!==r){o=Me();if(o!==r){ke=i;t=K(f,o);i=t}else{qe=i;i=r}}else{qe=i;i=r}}else{qe=i;i=r}}else{qe=i;i=r}}else{qe=i;i=r}}else{qe=i;i=r}}else{qe=i;i=r}return i}function si(){var i,t,n,f;i=qe;if(e.substr(qe,4)===D){t=D;qe+=4}else{t=r;if(Te===0){Je(I)}}if(t!==r){n=wi();if(n!==r){f=Me();if(f!==r){ke=i;t=L(f);i=t}else{qe=i;i=r}}else{qe=i;i=r}}else{qe=i;i=r}return i}function ui(){var i,t,n,f;i=qe;if(e.charCodeAt(qe)===34){t=M;qe++}else{t=r;if(Te===0){Je(Q)}}if(t!==r){n=[];f=oi();if(f===r){f=di()}while(f!==r){n.push(f);f=oi();if(f===r){f=di()}}if(n!==r){if(e.charCodeAt(qe)===34){f=M;qe++}else{f=r;if(Te===0){Je(Q)}}if(f!==r){ke=i;t=W(n);i=t}else{qe=i;i=r}}else{qe=i;i=r}}else{qe=i;i=r}if(i===r){i=qe;if(e.charCodeAt(qe)===39){t=X;qe++}else{t=r;if(Te===0){Je(Y)}}if(t!==r){n=[];f=ai();if(f===r){f=di()}while(f!==r){n.push(f);f=ai();if(f===r){f=di()}}if(n!==r){if(e.charCodeAt(qe)===39){f=X;qe++}else{f=r;if(Te===0){Je(Y)}}if(f!==r){ke=i;t=$(n);i=t}else{qe=i;i=r}}else{qe=i;i=r}}else{qe=i;i=r}}return i}function oi(){var e,i,t;Te++;e=qe;i=[];t=ci();if(t!==r){while(t!==r){i.push(t);t=ci()}}else{i=r}if(i!==r){ke=e;i=ie(i)}e=i;Te--;if(e===r){i=r;if(Te===0){Je(ee)}}return e}function ai(){var e,i,t;Te++;e=qe;i=[];t=pi();if(t!==r){while(t!==r){i.push(t);t=pi()}}else{i=r}if(i!==r){ke=e;i=te(i)}e=i;Te--;if(e===r){i=r;if(Te===0){Je(ee)}}return e}function ci(){var i,t,n;Te++;i=qe;t=qe;Te++;if(e.charCodeAt(qe)===34){n=M;qe++}else{n=r;if(Te===0){Je(Q)}}if(n===r){if(e.charCodeAt(qe)===92){n=re;qe++}else{n=r;if(Te===0){Je(fe)}}}Te--;if(n===r){t=void 0}else{qe=t;t=r}if(t!==r){if(e.length>qe){n=e.charAt(qe);qe++}else{n=r;if(Te===0){Je(le)}}if(n!==r){ke=i;t=se(n);i=t}else{qe=i;i=r}}else{qe=i;i=r}if(i===r){i=qe;t=hi();if(t!==r){ke=i;t=se(t)}i=t}Te--;if(i===r){t=r;if(Te===0){Je(ne)}}return i}function pi(){var i,t,n;Te++;i=qe;t=qe;Te++;if(e.charCodeAt(qe)===39){n=X;qe++}else{n=r;if(Te===0){Je(Y)}}if(n===r){if(e.charCodeAt(qe)===92){n=re;qe++}else{n=r;if(Te===0){Je(fe)}}}Te--;if(n===r){t=void 0}else{qe=t;t=r}if(t!==r){if(e.length>qe){n=e.charAt(qe);qe++}else{n=r;if(Te===0){Je(le)}}if(n!==r){ke=i;t=se(n);i=t}else{qe=i;i=r}}else{qe=i;i=r}if(i===r){i=qe;t=hi();if(t!==r){ke=i;t=se(t)}i=t}Te--;if(i===r){t=r;if(Te===0){Je(ne)}}return i}function hi(){var i;if(e.substr(qe,2)===ue){i=ue;qe+=2}else{i=r;if(Te===0){Je(oe)}}if(i===r){if(e.substr(qe,2)===ae){i=ae;qe+=2}else{i=r;if(Te===0){Je(ce)}}if(i===r){if(e.substr(qe,2)===pe){i=pe;qe+=2}else{i=r;if(Te===0){Je(he)}}}}return i}function di(){var i,t,n,f;i=qe;if(e.substr(qe,2)===de){t=de;qe+=2}else{t=r;if(Te===0){Je(ve)}}if(t!==r){n=Me();if(n!==r){if(e.charCodeAt(qe)===41){f=A;qe++}else{f=r;if(Te===0){Je(g)}}if(f!==r){ke=i;t=ye(n);i=t}else{qe=i;i=r}}else{qe=i;i=r}}else{qe=i;i=r}return i}function vi(){var i,t,n,f,l,s,u,o;i=qe;if(e.charCodeAt(qe)===123){t=Ae;qe++}else{t=r;if(Te===0){Je(ge)}}if(t!==r){n=mi();if(n!==r){f=Ai();if(f===r){f=null}if(f!==r){l=mi();if(l!==r){s=bi();if(s!==r){u=mi();if(u!==r){if(e.charCodeAt(qe)===125){o=Ce;qe++}else{o=r;if(Te===0){Je(be)}}if(o!==r){ke=i;t=me(f,s);i=t}else{qe=i;i=r}}else{qe=i;i=r}}else{qe=i;i=r}}else{qe=i;i=r}}else{qe=i;i=r}}else{qe=i;i=r}}else{qe=i;i=r}return i}function yi(){var e,i,t,n;e=qe;i=Ai();if(i!==r){t=mi();if(t!==r){n=bi();if(n!==r){ke=e;i=we(i,n);e=i}else{qe=e;e=r}}else{qe=e;e=r}}else{qe=e;e=r}return e}function Ai(){var i,t,n,f;i=qe;if(e.charCodeAt(qe)===40){t=h;qe++}else{t=r;if(Te===0){Je(d)}}if(t!==r){n=gi();if(n===r){n=null}if(n!==r){if(e.charCodeAt(qe)===41){f=A;qe++}else{f=r;if(Te===0){Je(g)}}if(f!==r){ke=i;t=xe(n);i=t}else{qe=i;i=r}}else{qe=i;i=r}}else{qe=i;i=r}return i}function gi(){var i,t,n,f,l,s,u;i=qe;t=Ci();if(t!==r){n=[];f=qe;if(e.charCodeAt(qe)===44){l=v;qe++}else{l=r;if(Te===0){Je(y)}}if(l!==r){s=mi();if(s!==r){u=Ci();if(u!==r){l=[l,s,u];f=l}else{qe=f;f=r}}else{qe=f;f=r}}else{qe=f;f=r}while(f!==r){n.push(f);f=qe;if(e.charCodeAt(qe)===44){l=v;qe++}else{l=r;if(Te===0){Je(y)}}if(l!==r){s=mi();if(s!==r){u=Ci();if(u!==r){l=[l,s,u];f=l}else{qe=f;f=r}}else{qe=f;f=r}}else{qe=f;f=r}}if(n!==r){ke=i;t=Ee(t,n);i=t}else{qe=i;i=r}}else{qe=i;i=r}return i}function Ci(){var i,t,n,f,l,s,u;i=qe;t=$e();if(t!==r){n=qe;f=mi();if(f!==r){if(e.charCodeAt(qe)===58){l=Fe;qe++}else{l=r;if(Te===0){Je(Re)}}if(l!==r){s=mi();if(s!==r){u=Me();if(u!==r){f=[f,l,s,u];n=f}else{qe=n;n=r}}else{qe=n;n=r}}else{qe=n;n=r}}else{qe=n;n=r}if(n===r){n=null}if(n!==r){ke=i;t=Se(t,n);i=t}else{qe=i;i=r}}else{qe=i;i=r}return i}function bi(){var e,i;e=qe;i=Me();if(i!==r){ke=e;i=je(i)}e=i;if(e===r){e=yi()}return e}function mi(){var i,t;Te++;i=[];if(Ze.test(e.charAt(qe))){t=e.charAt(qe);qe++}else{t=r;if(Te===0){Je(_e)}}while(t!==r){i.push(t);if(Ze.test(e.charAt(qe))){t=e.charAt(qe);qe++}else{t=r;if(Te===0){Je(_e)}}}Te--;if(i===r){t=r;if(Te===0){Je(ze)}}return i}function wi(){var i,t;Te++;i=[];if(Ze.test(e.charAt(qe))){t=e.charAt(qe);qe++}else{t=r;if(Te===0){Je(_e)}}if(t!==r){while(t!==r){i.push(t);if(Ze.test(e.charAt(qe))){t=e.charAt(qe);qe++}else{t=r;if(Te===0){Je(_e)}}}}else{i=r}Te--;if(i===r){t=r;if(Te===0){Je(ze)}}return i}function xi(e){var i=[],t;for(t=0;t<e.length;t++){if(Ei(e[t])){i=i.concat(xi(e[t]))}else{i.push(e[t])}}return i}function Ei(e){return Object.prototype.toString.call(e)==="[object Array]"}function Fi(e){return function(i){return i[e]}}Be=l();if(Be!==r&&qe===e.length){return Be}else{if(Be!==r&&qe<e.length){Je({type:"end",description:"end of input"})}throw Ke(null,Pe,Ie<e.length?e.charAt(Ie):null,Ie<e.length?He(Ie,Ie+1):He(Ie,Ie))}}return{SyntaxError:i,parse:t}}();